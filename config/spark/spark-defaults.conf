# Apache Spark 3.5.x Configuration

# Master
spark.master                     yarn
spark.deploy.mode                client

# Memory Configuration
spark.driver.memory              2g
spark.executor.memory            4g
spark.executor.memoryFraction    0.8
spark.driver.maxResultSize       2g

# Cores
spark.executor.cores             2
spark.default.parallelism        200

# SQL Configuration
spark.sql.warehouse.dir          hdfs://nodo1:9000/user/hive/warehouse
spark.sql.shuffle.partitions     200
spark.sql.adaptive.enabled       true
spark.sql.adaptive.coalescePartitions.enabled true

# Streaming Configuration
spark.sql.streaming.checkpointLocation hdfs://nodo1:9000/user/hadoop/checkpoints
spark.sql.streaming.schemaInference true

# Kafka Integration
spark.sql.streaming.kafka.consumer.cache.enabled true

# GraphFrames
spark.jars.packages              graphframes:graphframes:0.8.2-spark3.5-s_2.12

# Logging
spark.eventLog.enabled           true
spark.eventLog.dir               hdfs://nodo1:9000/spark-logs
spark.history.fs.logDirectory    hdfs://nodo1:9000/spark-logs

# Performance
spark.serializer                 org.apache.spark.serializer.KryoSerializer
spark.sql.execution.arrow.pyspark.enabled true
