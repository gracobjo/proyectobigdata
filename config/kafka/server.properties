# Apache Kafka 3.9.1 - KRaft Mode Configuration
# Archivo de configuración del servidor Kafka

# KRaft Mode Configuration (localhost para standalone)
process.roles=broker,controller
node.id=1
controller.quorum.voters=1@127.0.0.1:9093

# Listeners (advertised.listeners en localhost para standalone; si nodo1→192.168.56.1, los clientes no pueden conectar)
listeners=PLAINTEXT://0.0.0.0:9092,CONTROLLER://0.0.0.0:9093
advertised.listeners=PLAINTEXT://127.0.0.1:9092
inter.broker.listener.name=PLAINTEXT
controller.listener.names=CONTROLLER
listener.security.protocol.map=CONTROLLER:PLAINTEXT,PLAINTEXT:PLAINTEXT

# Logs
log.dirs=/tmp/kafka-logs
log.retention.hours=168
log.segment.bytes=1073741824
log.retention.check.interval.ms=300000

# Un solo broker: replication factor 1 para topics internos
offsets.topic.replication.factor=1
transaction.state.log.replication.factor=1

# Replication
num.network.threads=8
num.io.threads=8
socket.send.buffer.bytes=102400
socket.receive.buffer.bytes=102400
socket.request.max.bytes=104857600

# Partitions
num.partitions=3
default.replication.factor=1
min.insync.replicas=1

# Performance (uncompressed en standalone para no requerir lib snappy en clientes Python)
compression.type=uncompressed
batch.size=16384
linger.ms=10
buffer.memory=33554432

# Metadata
metadata.max.age.ms=300000

# Controller
controller.quorum.election.timeout.ms=1000
controller.quorum.fetch.timeout.ms=2000
